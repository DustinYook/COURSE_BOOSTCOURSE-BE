package kr.or.connect.mvcexam.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;

@Controller // 컨트롤러임을 알려줌
public class PlusController 
{
	// 요청이 plusform과 plus로 2개 존재 -> 각각을 위한 메소드 필요
	
	@GetMapping(path = "/plusform") // 스프링 버전 4.3부터 사용가능
	public String plusform() // 뷰 네임을 넘겨줌
	{
		return "plusForm"; 
		// WebMvcControllerConfiguation.InternalResourceViewResolver()에 의해 
		// WEB-INF/views/plusForm.jsp로 변환됨
	}
	
	@PostMapping(path = "/plus")
	public String plus(@RequestParam(name = "value1", required = true) int value1, @RequestParam(name = "value2", required = true) int value2, ModelMap modelMap) 
	{
		int result = value1 + value2;

		modelMap.addAttribute("value1", value1);
		modelMap.addAttribute("value2", value2);
		modelMap.addAttribute("result", result);
		return "plusResult";
	}
}